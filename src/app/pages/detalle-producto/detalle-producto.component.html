<title>Detalle de Producto</title>   
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<app-head></app-head>



<div class="container-fluid bg-light pt-4 pb-4 ">
    <div class="container-lg mt-5 p-5 border rounded shadow-lg mx-auto px-5">
        <!-- Contenido -->
        <div class="row">
            <!-- Título -->
            <div class="col-md-12">
                <h2 class="mb-3">{{libro?.titulo}}</h2>
            </div>
            <!-- Imagen del Producto (Parte Izquierda) -->
            <div class="col-md-3">
                <div class="d-flex justify-content-center mb-3" style="width: 280px; height: 400px;">
                    <img src={{libro?.imagen}}  alt="Producto" class="img-fluid h-100 w-auto" style="object-fit: cover;">
                </div>
                <!-- Tabla -->
                <table class="table">
                    <tbody>
                        <tr>
                            <th scope="row" class="align-middle">Autor:</th>
                            <td >
                                <div *ngFor="let autor of autores">
                                    <p class="d-inline me-4" style="white-space: nowrap;">
                                        {{ autor.nombre }} 
                                    </p>
                                </div>
                            </td>                           
                        </tr>
                        <!-- <tr>
                            <th scope="row">Editorial:</th>
                            <td>{{libro?.Editorial}}</td> 
                        </tr> -->
                        <tr>
                            <th scope="row">Impresinó:</th>
                            <td>{{libro?.impresion}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Tipo Tapa</th>
                            <td>{{libro?.tipoTapa}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Ancho:</th>
                            <td>{{ancho}} cm</td>
                        </tr>
                        <tr>
                            <th scope="row">Alto:</th>
                            <td>{{altura}} cm</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- Detalles del Producto (Parte Derecha) -->
            <div class="col-md-9">
                <!-- Descripción del Producto -->
                <div class="mb-3">
                    <h4 class="mb-3">Reseña:</h4>

                    <p class="form-control p-3" id="descripcion" rows="6" style="width: 100%; height: 300px; background:whitesmoke; border: 0;">
                        {{ libro?.descripcion }}

                    </p>    
                    
                    <!-- Precio -->
                    <p class="text-end mt-2 fs-4">S/{{ precioVenta | number: '1.2-2' }}</p>

                    <!-- Botones -->
                    <div class="d-flex justify-content-end">
                        <!-- Botón de Guardar en Favoritos -->
                        <button type="button" class="btn btn-outline-primary mb-3 me-3 fs-5">Guardar en Favoritos</button>
                        <!-- Botón de Agregar al Carrito -->
                        <button type="button" class="btn btn-primary mb-3 me-3 fs-5" (click)="agregarAlCarrito()">Agregar al Carrito</button>
                    </div>
                    <!-- Cantidad -->
                    <!-- En tu archivo detalle-producto.component.html -->
                    <div class="form-group mt-3 d-flex justify-content-start align-items-center">
                        <label for="cantidad" class="form-label me-3">Cantidad:</label>
                        <div class="input-group" style="max-width: 150px;">
                        <button class="btn btn-outline-secondary" type="button" (click)="decrementarCantidad()" [disabled]="cantidad <= 1">-</button>
                        <input type="number" class="form-control text-center" [(ngModel)]="cantidad" (ngModelChange)="verificarStock()" min="1" [max]="stockDisponible">
                        <button class="btn btn-outline-secondary" type="button" (click)="incrementarCantidad()" [disabled]="cantidad >= stockDisponible">+</button>
                        </div>
                        <div *ngIf="stockDisponible <= 0" class="text-danger">No disponible</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<h2 class="demas-items">LIBROS QUE TAMBIÉN TE PEUDEN INTERESAR</h2>
<ng-container *ngIf="idSubCategoria">
    <app-carrusel [categoria]="idSubCategoria"></app-carrusel>
  </ng-container>
<section class="mt-4">
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="d-flex justify-content-between">
                    <img src="https://libsaberapi.blob.core.windows.net/imagenes/alberto-cognetti-TmFHrKk6aBI-unsplash.jpg" class="d-block img-fluid" alt="Slide 1" style="max-height: 200px; width: calc(100% / 3);">
                    <img src="https://libsaberapi.blob.core.windows.net/imagenes/sanika-v-J75vNLEr4aE-unsplash.jpg" class="d-block img-fluid" alt="Slide 2" style="max-height: 200px; width: calc(100% / 3);">
                    <img src="https://libsaberapi.blob.core.windows.net/imagenes/pexels-karolina-grabowska-5632377.jpg" class="d-block img-fluid" alt="Slide 3" style="max-height: 200px; width: calc(100% / 3);">
                </div>
            </div>
            <div class="carousel-item">
                <div class="d-flex justify-content-between">
                    <img src="https://libsaberapi.blob.core.windows.net/imagenes/pexels-karolina-grabowska-5632390.jpg" class="d-block img-fluid" alt="Slide 4" style="max-height: 200px; width: calc(100% / 3);">
                    <img src="https://libsaberapi.blob.core.windows.net/imagenes/DALLE_2024-04-15_11.33.34_-_Create_a_vibrant_and_animated-style_promotional_image_for_a_bookstore._The_image_should_feature_a_cute_animal_character_like_a_fox_happily_reading_a.jpg" class="d-block img-fluid" alt="Slide 5" style="max-height: 200px; width: calc(100% / 3);">
                    <img src="https://libsaberapi.blob.core.windows.net/imagenes/imagen.jpeg" class="d-block img-fluid" alt="Slide 6" style="max-height: 200px; width: calc(100% / 3);">
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</section>
<app-footer></app-footer>
